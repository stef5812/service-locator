generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}


model Location {
  id       String  @id @default(cuid())
  name     String?
  type     String?
  eircode  String?
  address  String?
  lat      Float?
  lng      Float?

  email    String?
  phone    String?
  contact1 String?
  contact2 String?
  contact3 String?
  link     String?

  isActive Boolean @default(true)

  source   String? // "excel", "manual", "api:xxx"
  sourceId String? // for upserts from imports

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([type])
  @@index([eircode])
  @@unique([source, sourceId], name: "source_sourceId")

}

model GeocodeCache {
  id              String   @id @default(cuid())
  normalizedQuery String   @unique
  displayQuery    String?
  eircode         String?

  lat             Float
  lng             Float

  provider        String?
  hitCount        Int      @default(0)
  lastUsedAt      DateTime?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

